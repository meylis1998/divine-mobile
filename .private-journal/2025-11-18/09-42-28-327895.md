---
title: "9:42:28 AM - November 18, 2025"
date: 2025-11-18T17:42:28.327Z
timestamp: 1763487748327
---

## Project Notes

Relay Diagnostics Enhancement Research:

**Current State:**
- VineDrawer shows simple health message: "Divine relay is healthy and serving fresh vines"
- RelayHealthService tracks 3 states: healthy, problems, disconnected
- NostrService.getRelayStats() provides rich diagnostics:
  - database stats (from embedded relay)
  - subscription stats (active subscriptions)
  - publish_queue stats
  - external_relays count
  - p2p_enabled, p2p_peers, p2p_connections
- RelayDiagnosticScreen already exists and displays detailed stats

**Available Metrics:**
1. Connected relays count (connectedRelayCount)
2. Database stats (total_events, etc.)
3. Active subscriptions (from getSubscriptionStats())
4. Publish queue stats (from getPublishQueueStats())
5. External relay count
6. P2P metrics (peers, connections, advertising, discovering)

**Rabble wants:**
- Relays connected
- Local events
- Streams (active subscriptions)
- Latency
- Events per second
- "Tap to see more" for detailed view

**Design direction:**
- Enhance the simple message section in VineDrawer to show summary metrics
- Make it tappable to navigate to RelayDiagnosticScreen for full details
- Keep it concise but informative
