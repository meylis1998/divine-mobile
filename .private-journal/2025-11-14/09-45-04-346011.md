---
title: "9:45:04 AM - November 14, 2025"
date: 2025-11-14T09:45:04.346Z
timestamp: 1763113504346
---

## Project Notes

## Android Loading Screen Hang - Root Cause Investigation

**Symptom**: App hangs on loading screen in APK/AAB builds, but works fine in emulator

**Key Finding**: R8 obfuscation is enabled but ProGuard rules file is NOT referenced!

In `mobile/android/app/build.gradle.kts`:
```kotlin
buildTypes {
    release {
        signingConfig = signingConfigs.getByName("release")
        isMinifyEnabled = true  // R8 ENABLED
        isShrinkResources = true
        // MISSING: proguardFiles reference!
    }
}
```

Expected to see:
```kotlin
proguardFiles(
    getDefaultProguardFile("proguard-android-optimize.txt"),
    "proguard-rules.pro"
)
```

**Impact**: R8 is running with default rules only, likely stripping:
- Flutter engine classes
- Dart VM classes  
- Platform channel code
- Reflection-based code (Riverpod, JSON serialization)
- SharedPreferences access (used in router redirect)
- Firebase classes
- Embedded Nostr relay native code

This explains why emulator (debug, no R8) works but release builds (R8 enabled) hang.
