---
title: "7:14:37 PM - November 13, 2025"
date: 2025-11-13T19:14:37.567Z
timestamp: 1763061277567
---

## Project Notes

## OpenVine Repost/Revine Button Investigation

**Current State (2025-11-13)**:
- **Backend exists and works**: `SocialService.repostEvent()` creates Kind 6 (NIP-18) repost events
- **Tracking exists**: `SocialService.hasReposted()` checks repost state, `_repostedEventIds` cache works
- **Tests pass**: `revine_end_to_end_test.dart` and others validate the repost system
- **UI gap**: NO repost button in the video overlay actions!

**Video Action Button Architecture** (`mobile/lib/widgets/video_feed_item.dart`):
- `VideoOverlayActions` widget (line 542+) contains action buttons
- Current buttons: Like, Comment, Share, Report/Flag, Edit (for own videos)
- Like button shows state (filled/outline) + count display
- All buttons use `_buildCircularIconButton()` helper for consistent styling
- Positioned at bottom-right of video overlay

**Repost Integration Pattern**:
- Like button pattern: checks `socialState.isLiked()`, shows progress state, calls `socialProvider.notifier.toggleLike()`
- Need similar for repost: check `socialState.hasReposted()`, show progress, call `socialProvider.notifier.repostEvent()`
- Icon should change state: `Icons.repeat` outline â†’ filled when reposted
- Consider showing repost count if available (like originalLoops)

**Key Files**:
- `mobile/lib/widgets/video_feed_item.dart` - Add button here (line ~947 between comment and share)
- `mobile/lib/services/social_service.dart` - Backend methods already exist
- `mobile/lib/providers/social_providers.dart` - May need provider methods for repost
- Test: `mobile/test/integration/revine_end_to_end_test.dart`
