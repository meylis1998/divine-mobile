{
  "embedding": [
    -0.090950608253479,
    0.002926769433543086,
    -0.014304613694548607,
    -0.10103067755699158,
    0.024920238181948662,
    0.028600191697478294,
    -0.002335956320166588,
    -0.05898489058017731,
    -0.05639072135090828,
    0.003856185358017683,
    -0.024551544338464737,
    -0.06538079679012299,
    0.005925370845943689,
    0.05736521631479263,
    0.00647431705147028,
    0.01624080166220665,
    0.04025223106145859,
    -0.10905247181653976,
    -0.026852907612919807,
    -0.0012159033212810755,
    0.0035595810040831566,
    -0.040020331740379333,
    0.04274110496044159,
    0.01943894848227501,
    0.009574766270816326,
    -0.0611567422747612,
    0.04727477580308914,
    -0.05158860236406326,
    0.0206105038523674,
    -0.006456593982875347,
    0.019105082377791405,
    0.029824823141098022,
    -0.0808841735124588,
    -0.0663551613688469,
    -0.07959553599357605,
    -0.03769098222255707,
    -0.0129034873098135,
    0.004532054997980595,
    -0.11229714006185532,
    -0.059496812522411346,
    0.057244036346673965,
    -0.039488784968853,
    -0.08393099904060364,
    0.007525808177888393,
    0.004761910066008568,
    0.02662193402647972,
    0.002921147271990776,
    0.003933723550289869,
    0.07923567295074463,
    0.020944103598594666,
    -0.007907704450190067,
    0.016097214072942734,
    0.013921402394771576,
    -0.0681317150592804,
    0.026614991948008537,
    0.06792845577001572,
    0.04386390745639801,
    0.018715566024184227,
    0.028889937326312065,
    0.012871326878666878,
    0.016975851729512215,
    -0.0026401185896247625,
    -0.002672517206519842,
    -0.015743644908070564,
    -0.01675487495958805,
    0.03406674042344093,
    -0.003121253801509738,
    -0.010574149899184704,
    0.11627735197544098,
    -0.06834602355957031,
    0.0015942220343276858,
    0.02590322308242321,
    0.05330353230237961,
    -0.04409060254693031,
    -0.02672378160059452,
    -0.10492666810750961,
    -0.019015630707144737,
    0.025239983573555946,
    0.00043404646567068994,
    -0.1278546005487442,
    -0.07199542224407196,
    -0.06350583583116531,
    0.00010256012319587171,
    0.044387008994817734,
    0.06447750329971313,
    -0.00447359774261713,
    -0.01409495435655117,
    -0.04238158464431763,
    0.007498667109757662,
    0.08652108162641525,
    0.017232371494174004,
    0.060661666095256805,
    -0.04443706199526787,
    -0.0233170073479414,
    0.09747461974620819,
    -0.011228688061237335,
    0.012788879685103893,
    0.022935420274734497,
    -0.0644000917673111,
    0.01871243305504322,
    -0.026697924360632896,
    0.06755076348781586,
    0.07043924927711487,
    0.12049392610788345,
    0.05388592556118965,
    -0.037175051867961884,
    0.03791297599673271,
    -0.028455963358283043,
    -0.013135065324604511,
    0.045793674886226654,
    0.04956594109535217,
    -0.03601756691932678,
    0.06489614397287369,
    0.003047321690246463,
    0.00678272033110261,
    0.014568300917744637,
    -0.06420579552650452,
    0.02059582807123661,
    0.013430198654532433,
    0.05428018420934677,
    0.07879474014043808,
    -0.030841123312711716,
    0.007492509204894304,
    -0.05454651266336441,
    0.04570981487631798,
    0.030042016878724098,
    0.005939946975558996,
    7.761025861835499e-33,
    0.019429579377174377,
    -0.02996833808720112,
    -0.05090701952576637,
    0.06886909157037735,
    0.004334083758294582,
    0.08749742805957794,
    -0.02456309087574482,
    -0.022010840475559235,
    0.005604809150099754,
    -0.030067261308431625,
    0.03590971603989601,
    -0.01706790179014206,
    -0.016022086143493652,
    -0.05463189259171486,
    0.01747344434261322,
    -0.08511988073587418,
    -0.024158891290426254,
    -0.04731261730194092,
    0.016803260892629623,
    -0.019641799852252007,
    0.03260686248540878,
    0.002521007088944316,
    -0.04372246563434601,
    -0.056064821779727936,
    -0.02653748355805874,
    -0.0037516276352107525,
    0.0031305747106671333,
    0.050222668796777725,
    -0.051663849502801895,
    0.012091604992747307,
    0.014073697850108147,
    -0.048870522528886795,
    0.062213554978370667,
    -0.0017479611560702324,
    -0.04617941752076149,
    -0.07585857063531876,
    0.043592121452093124,
    -0.08740243315696716,
    -0.015057447366416454,
    -0.09525193274021149,
    -0.08840365707874298,
    -0.01796606183052063,
    -0.05759584903717041,
    0.003912192303687334,
    -0.06144031509757042,
    -0.12117843329906464,
    0.026716481894254684,
    -0.00009596189920557663,
    0.049027763307094574,
    0.05968352407217026,
    -0.04972994327545166,
    -0.018865732476115227,
    -0.02416326105594635,
    -0.1189756989479065,
    -0.10123954713344574,
    -0.039387837052345276,
    -0.03836767002940178,
    0.0035202600993216038,
    -0.055181365460157394,
    -0.0888403132557869,
    0.024922804906964302,
    -0.008359242230653763,
    -0.010491362772881985,
    0.024091757833957672,
    0.023024411872029305,
    0.0801517590880394,
    -0.004619523882865906,
    -0.02069331333041191,
    -0.006846406497061253,
    -0.058084193617105484,
    -0.07567384839057922,
    0.01013647485524416,
    0.005330344196408987,
    0.00010607659351080656,
    0.0009879769058898091,
    0.000927957589738071,
    0.10087548941373825,
    0.021425507962703705,
    -0.05913178250193596,
    -0.05987672507762909,
    0.029070651158690453,
    -0.0024062495213001966,
    -0.05144433677196503,
    0.10800756514072418,
    0.062238238751888275,
    -0.05521847680211067,
    0.0025286038871854544,
    -0.09223013371229172,
    -0.0341324545443058,
    0.08562955260276794,
    0.06796074658632278,
    -0.0038145561702549458,
    0.13274362683296204,
    0.0338294692337513,
    -0.02295534685254097,
    -9.214950008645462e-33,
    -0.009174118749797344,
    -0.04027547687292099,
    -0.017289021983742714,
    -0.012973576784133911,
    0.09520129859447479,
    -0.014487110078334808,
    0.012216967530548573,
    0.08832360059022903,
    0.02967320755124092,
    -0.11124660074710846,
    -0.005182324443012476,
    0.1396414339542389,
    -0.03127415478229523,
    0.00946655124425888,
    -0.08058527112007141,
    0.06602757424116135,
    0.066923126578331,
    0.027889221906661987,
    -0.010908241383731365,
    0.0047337692230939865,
    0.05001170560717583,
    0.07982076704502106,
    -0.04951087012887001,
    -0.010262739844620228,
    0.027507692575454712,
    0.02465743198990822,
    0.061016183346509933,
    0.02152145281434059,
    0.028819315135478973,
    -0.06205973029136658,
    0.11436065286397934,
    -0.01239156723022461,
    -0.02264384552836418,
    0.06466984748840332,
    -0.021963536739349365,
    -0.01560036651790142,
    0.05789909511804581,
    0.013550003059208393,
    -0.12079538404941559,
    0.03552687540650368,
    0.12160860747098923,
    0.016302939504384995,
    -0.04339601844549179,
    -0.03467261418700218,
    0.012353458441793919,
    0.0798535943031311,
    0.01837363839149475,
    0.007658084854483604,
    -0.11962907016277313,
    -0.020351340994238853,
    0.05652531608939171,
    -0.011126801371574402,
    0.059286002069711685,
    0.015537217259407043,
    -0.05277124047279358,
    0.030585043132305145,
    0.09664415568113327,
    0.012435915879905224,
    0.04367615282535553,
    -0.05631381645798683,
    0.05494935065507889,
    -0.03647511452436447,
    -0.05130068585276604,
    0.007242772728204727,
    -0.044947948306798935,
    0.0014403329696506262,
    0.037338197231292725,
    0.17376480996608734,
    0.10318213701248169,
    -0.017435023561120033,
    0.027773482725024223,
    -0.06787419319152832,
    0.006504259537905455,
    -0.04185950756072998,
    0.04357149451971054,
    0.029863039031624794,
    -0.017044147476553917,
    -0.07751229405403137,
    0.00012131033145124093,
    -0.01996806636452675,
    -0.04603521525859833,
    0.015686586499214172,
    -0.02230738289654255,
    -0.09235300868749619,
    0.05994994565844536,
    -0.02344577945768833,
    -0.021795615553855896,
    0.04368908703327179,
    0.0885186642408371,
    0.052444953471422195,
    -0.007220063824206591,
    -0.03961478918790817,
    -0.09096585959196091,
    0.04726264998316765,
    0.01522325910627842,
    -5.763185129126214e-8,
    0.004084950312972069,
    0.05269801616668701,
    0.007349096704274416,
    0.006519736722111702,
    0.02217439003288746,
    -0.055574193596839905,
    0.0435989685356617,
    -0.09313943982124329,
    -0.06477971374988556,
    -0.06020931527018547,
    0.0029744489584118128,
    0.0565490759909153,
    -0.005764788016676903,
    -0.10192784667015076,
    0.08206034451723099,
    0.020052874460816383,
    -0.003927922807633877,
    -0.008220456540584564,
    -0.0601000152528286,
    -0.012836131267249584,
    -0.06513739377260208,
    -0.02910362184047699,
    -0.04491519555449486,
    0.03772509843111038,
    -0.11495042592287064,
    -0.002484425902366638,
    0.04531542584300041,
    -0.01211816817522049,
    0.010989605449140072,
    -0.033875904977321625,
    -0.030419480055570602,
    0.05662805959582329,
    0.06548232585191727,
    -0.04765823855996132,
    -0.09396570920944214,
    0.05353706330060959,
    0.004003799986094236,
    -0.006678804289549589,
    0.11475241929292679,
    0.02433529868721962,
    -0.015848316252231598,
    -0.0398063063621521,
    -0.03334258869290352,
    -0.015324853360652924,
    -0.06559493392705917,
    0.03201982006430626,
    0.0313253253698349,
    0.0003755066718440503,
    0.01972094550728798,
    -0.07099011540412903,
    -0.0019055745797231793,
    0.028069177642464638,
    -0.014757734723389149,
    0.024895988404750824,
    0.049501556903123856,
    0.052407391369342804,
    -0.006294329185038805,
    -0.03154600039124489,
    0.06201514974236488,
    0.001969011966139078,
    0.07658897340297699,
    0.008973317220807076,
    0.022564401850104332,
    0.0017633847892284393
  ],
  "text": "**Age Gate Issue Investigation - Phase 1 Complete**\n\nFound the welcome screen logic in `mobile/lib/screens/welcome_screen.dart`. The button visibility is controlled by:\n1. Lines 88-94: Shows loading spinner if `authState == AuthState.checking || AuthState.authenticating`\n2. Lines 95-128: Shows Continue button if `isAuthenticated` (i.e., `authState == AuthState.authenticated`)\n3. Lines 129-174: Shows error if `!isAuthenticated`\n\n**CRITICAL DISCOVERY**: AuthService was refactored from ChangeNotifier to use StreamControllers (line 80 comment confirms this). The WelcomeScreen uses `ref.watch(authServiceProvider)` which watches the provider, not the auth state stream.\n\n**The race condition mechanism**: \n- AuthService uses StreamController for state changes (lines 92-95)\n- Provider is `@Riverpod(keepAlive: true)` returning AuthService instance\n- When auth state changes, StreamController emits but Riverpod doesn't rebuild because the AuthService instance hasn't changed\n- If auth completes before WelcomeScreen builds, the screen shows the old state and never updates\n\nNext: Verify if there's a proper stream provider for auth state that should be used instead.",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1763061862840,
  "path": "/Users/rabble/code/andotherstuff/openvine/.private-journal/2025-11-13/19-24-22-840028.md"
}