{
  "embedding": [
    -0.05751527473330498,
    -0.05426860973238945,
    -0.006336417514830828,
    -0.055195000022649765,
    0.05794508755207062,
    -0.08013282716274261,
    -0.01970549114048481,
    0.03504077345132828,
    -0.018779819831252098,
    -0.017057156190276146,
    0.03061608225107193,
    -0.041635435074567795,
    -0.013070691376924515,
    0.03556964546442032,
    0.049076955765485764,
    -0.049469850957393646,
    0.011688103899359703,
    0.010236507281661034,
    -0.036632735282182693,
    0.08274345099925995,
    0.01926165446639061,
    -0.07898997515439987,
    0.10963325947523117,
    -0.016653932631015778,
    0.042383745312690735,
    -0.029010672122240067,
    -0.010043847374618053,
    0.01547145750373602,
    -0.008342106826603413,
    -0.023706508800387383,
    0.0029792911373078823,
    0.08480661362409592,
    -0.04494279995560646,
    -0.018187180161476135,
    0.035468749701976776,
    -0.11763424426317215,
    -0.023202428594231606,
    -0.03482513502240181,
    -0.07891303300857544,
    -0.032407812774181366,
    0.0027635132428258657,
    0.12619730830192566,
    -0.045249082148075104,
    0.05457960441708565,
    0.012318954803049564,
    0.027743767946958542,
    0.035533733665943146,
    0.037857670336961746,
    0.024411063641309738,
    -0.0436636321246624,
    -0.05819159373641014,
    0.0038061158265918493,
    0.029381072148680687,
    0.02324080280959606,
    0.023575695231556892,
    -0.013998263515532017,
    -0.0902930423617363,
    0.05120229348540306,
    0.08544459939002991,
    0.05231086164712906,
    0.03848060593008995,
    0.08033428341150284,
    0.04578045755624771,
    -0.005588520783931017,
    -0.019627178087830544,
    0.0026154888328164816,
    0.08142310380935669,
    -0.06047495827078819,
    0.01640746369957924,
    -0.013956033624708652,
    -0.030880726873874664,
    0.02052154950797558,
    0.032085441052913666,
    -0.06482429057359695,
    -0.02402074635028839,
    -0.03295392543077469,
    0.031581055372953415,
    0.001848326064646244,
    0.023304620757699013,
    -0.04277671128511429,
    0.0064789410680532455,
    -0.04091222211718559,
    -0.02882356382906437,
    0.03413830325007439,
    0.017816435545682907,
    -0.00798838958144188,
    0.0660647451877594,
    -0.0007132234168238938,
    0.012877965345978737,
    0.03843054175376892,
    -0.06333455443382263,
    -0.09396594017744064,
    -0.12628020346164703,
    0.000006963437499507563,
    0.014829766005277634,
    -0.10796704143285751,
    0.03304052725434303,
    -0.04014821723103523,
    -0.016021056100726128,
    0.04567806422710419,
    0.03498616814613342,
    -0.016482414677739143,
    0.050245556980371475,
    0.07241830229759216,
    0.0635964572429657,
    -0.0015174252912402153,
    0.02695648744702339,
    0.07479595392942429,
    0.04201549291610718,
    0.052032843232154846,
    0.048551011830568314,
    0.021987030282616615,
    0.01928461715579033,
    -0.005051587708294392,
    0.03451288491487503,
    0.02501906082034111,
    -0.0003496763529255986,
    -0.02568056620657444,
    -0.03770536929368973,
    -0.01043103076517582,
    0.023336997255682945,
    -0.03704698383808136,
    -0.060281675308942795,
    -0.009198571555316448,
    0.03694549947977066,
    0.004730245564132929,
    0.06518073379993439,
    4.730942686119365e-33,
    -0.02678690291941166,
    -0.024393528699874878,
    0.0547780804336071,
    0.010320409201085567,
    0.02667112834751606,
    0.024717047810554504,
    -0.05468776077032089,
    0.0638074278831482,
    -0.005725842900574207,
    -0.07271512597799301,
    -0.0016441368497908115,
    -0.045400116592645645,
    -0.010145756416022778,
    0.004179318435490131,
    0.01860867068171501,
    -0.010048331692814827,
    -0.06367325037717819,
    0.050832897424697876,
    0.00031597077031619847,
    0.09765098243951797,
    0.018048355355858803,
    0.0008514760411344469,
    0.022188296541571617,
    -0.008717001415789127,
    -0.08821049332618713,
    0.06232209876179695,
    0.018020624294877052,
    0.08832544088363647,
    -0.02902333252131939,
    0.004205763805657625,
    -0.03029804676771164,
    -0.03883310407400131,
    0.06342426687479019,
    -0.05357413366436958,
    -0.03534337878227234,
    -0.07011371105909348,
    -0.006154336035251617,
    -0.011522514745593071,
    -0.058270517736673355,
    -0.024345047771930695,
    -0.07702098786830902,
    0.06423311680555344,
    -0.03199620544910431,
    -0.04586358740925789,
    0.032904572784900665,
    -0.02262515015900135,
    0.024515600875020027,
    0.08032088726758957,
    -0.09674889594316483,
    0.00892224907875061,
    -0.004115823656320572,
    -0.02788449637591839,
    0.05448204278945923,
    -0.1076330691576004,
    -0.04529961943626404,
    -0.03804969787597656,
    0.10189423710107803,
    -0.04923161491751671,
    -0.005066101439297199,
    -0.04476150870323181,
    -0.04621909186244011,
    -0.02122645266354084,
    -0.02642788365483284,
    -0.06262704730033875,
    -0.03062227927148342,
    0.004725986625999212,
    -0.024392854422330856,
    0.011626141145825386,
    -0.05913382023572922,
    0.04306580871343613,
    -0.038555897772312164,
    0.04626068100333214,
    -0.0031039288733154535,
    -0.012590390630066395,
    0.011857174336910248,
    0.04505036026239395,
    -0.04966999962925911,
    0.040912989526987076,
    -0.06433317065238953,
    0.04919921234250069,
    -0.13816577196121216,
    0.04639437794685364,
    0.08762325346469879,
    -0.021623006090521812,
    -0.09652681648731232,
    -0.06581633538007736,
    0.05658847093582153,
    -0.042592257261276245,
    -0.055721465498209,
    0.015259859152138233,
    0.0030113672837615013,
    0.04486299306154251,
    0.07160905748605728,
    -0.08046663552522659,
    0.0075315567664802074,
    -4.089633743271019e-33,
    -0.02831796370446682,
    0.04022177308797836,
    -0.10278772562742233,
    -0.002821105532348156,
    -0.04561929032206535,
    -0.0894872397184372,
    0.034288790076971054,
    0.10883522778749466,
    0.07668866217136383,
    -0.16898414492607117,
    -0.03854148089885712,
    -0.07440028339624405,
    -0.09953849017620087,
    -0.03960432484745979,
    -0.017460301518440247,
    0.011860919184982777,
    -0.01711192913353443,
    -0.041780225932598114,
    -0.031506240367889404,
    -0.0002536735264584422,
    0.07011426240205765,
    0.02164558693766594,
    0.0740157812833786,
    0.054206475615501404,
    0.08799227327108383,
    0.06224670633673668,
    0.05611314997076988,
    0.06527002900838852,
    0.0897870883345604,
    -0.11889966577291489,
    0.11439058929681778,
    -0.04100601002573967,
    0.0013593360781669617,
    0.018707089126110077,
    -0.012579462490975857,
    -0.04136732965707779,
    0.022553686052560806,
    -0.004975498653948307,
    0.016810370609164238,
    0.03754938021302223,
    0.07884129136800766,
    0.03356558829545975,
    -0.039294108748435974,
    0.005223788786679506,
    0.027351493015885353,
    0.049210090190172195,
    0.07885126769542694,
    0.02869986556470394,
    -0.006664658430963755,
    0.009459424763917923,
    0.04018726199865341,
    0.036591582000255585,
    -0.037934813648462296,
    0.051228396594524384,
    0.04349830746650696,
    0.022614598274230957,
    -0.04989796504378319,
    -0.005557697732001543,
    0.027614736929535866,
    0.03906802833080292,
    0.05165158584713936,
    -0.02502061054110527,
    -0.09578468650579453,
    -0.07656002044677734,
    0.007035816088318825,
    0.023381026461720467,
    0.031049465760588646,
    0.03662211820483208,
    0.04746399447321892,
    0.006623957306146622,
    0.011831874959170818,
    0.02069915644824505,
    0.01875327154994011,
    0.024780774489045143,
    0.042643170803785324,
    0.06305199861526489,
    -0.025012854486703873,
    0.020274702459573746,
    0.1295829564332962,
    -0.02412518858909607,
    -0.02258918806910515,
    -0.0572458915412426,
    0.07704769819974899,
    0.05797487497329712,
    0.008807030506432056,
    0.04638474062085152,
    -0.01843339204788208,
    0.07054625451564789,
    0.08016359806060791,
    0.035520318895578384,
    -0.04212898015975952,
    -0.032322950661182404,
    -0.000568321964237839,
    0.00866356585174799,
    0.02114519663155079,
    -4.594921776401861e-8,
    -0.06444146484136581,
    0.0009381822310388088,
    -0.05723422020673752,
    0.0263480506837368,
    -0.06018553301692009,
    -0.09050639718770981,
    0.013058408163487911,
    0.019058391451835632,
    0.07246396690607071,
    -0.03740145266056061,
    0.038033246994018555,
    0.011032952927052975,
    -0.009991686791181564,
    -0.04688691347837448,
    0.061115093529224396,
    -0.01822538673877716,
    -0.0030130427330732346,
    0.03647052124142647,
    -0.07772063463926315,
    0.01059179287403822,
    -0.07554018497467041,
    -0.005747437477111816,
    -0.10395774990320206,
    -0.10788518190383911,
    -0.045374754816293716,
    -0.07498005777597427,
    -0.09651006013154984,
    0.02324586920440197,
    -0.036107271909713745,
    -0.0971493199467659,
    0.0070687211118638515,
    -0.0018499401630833745,
    0.05352458730340004,
    -0.07301323860883713,
    -0.055657047778367996,
    0.014913948252797127,
    -0.0146946357563138,
    0.017765672877430916,
    0.10845694690942764,
    0.06106859818100929,
    -0.07311467081308365,
    -0.02932523563504219,
    0.028301827609539032,
    -0.0224812813103199,
    -0.030147364363074303,
    -0.05494506657123566,
    0.1357220560312271,
    0.016027895733714104,
    -0.038673508912324905,
    -0.019993260502815247,
    -0.020834246650338173,
    0.01945572905242443,
    -0.0060611627995967865,
    -0.03855637088418007,
    0.02881883829832077,
    -0.10246039927005768,
    0.04340197145938873,
    -0.05730656161904335,
    -0.03905735909938812,
    0.01677844114601612,
    0.059469036757946014,
    -0.040370360016822815,
    0.0033620414324104786,
    0.12507480382919312
  ],
  "text": "Fixed camera preview distortion issue in OpenVine:\n\n**Problem**: Camera preview was displaying with weird distortions - stretching/squashing the image.\n\n**Root Cause**: Camera screen was using a hardcoded 3:4 aspect ratio assumption for all cameras (`universal_camera_screen_pure.dart:553`). The actual camera sensors have different aspect ratios depending on the device, and forcing them into 3:4 caused distortion.\n\n**Solution**:\n\n1. **Added `cameraPreviewAspectRatio` getter to VineRecordingNotifier** (`vine_recording_provider.dart:132-145`):\n   - Accesses the MobileCameraInterface to get actual camera controller\n   - Reads `controller.value.aspectRatio` for the real camera sensor aspect ratio\n   - Falls back to 3:4 only when camera not initialized or on macOS/web\n\n2. **Added `controller` getter to MobileCameraInterface** (`vine_recording_controller.dart:476`):\n   - Exposes the private `_controller` field publicly\n   - Allows provider to access the CameraController's aspect ratio\n\n3. **Updated camera screen to use actual aspect ratio** (`universal_camera_screen_pure.dart:552`):\n   - Changed from hardcoded `3.0 / 4.0` to `ref.read(vineRecordingProvider.notifier).cameraPreviewAspectRatio`\n   - Now uses the real camera sensor aspect ratio dynamically\n\n**Result**: Camera preview now renders without distortion because it uses the actual camera sensor's aspect ratio instead of assuming 3:4 for all devices.\n\n**Key Learning**: Never hardcode aspect ratios for camera previews. Always get the actual camera sensor's aspect ratio from the CameraController to prevent distortion. Different devices have different camera sensors with different native aspect ratios.",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1763066369084,
  "path": "/Users/rabble/code/andotherstuff/openvine/.private-journal/2025-11-13/20-39-29-084751.md"
}