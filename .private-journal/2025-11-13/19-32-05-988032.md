---
title: "7:32:05 PM - November 13, 2025"
date: 2025-11-13T19:32:05.988Z
timestamp: 1763062325988
---

## Project Notes

Fixed comments screen displaying hex IDs instead of user names:

**Problem**: Comments screen was showing full hex pubkeys (like `78a5c21b5166dc1474b64ddf7454bf79e6b5d6b4a77148593bf1e866b73c2738`) instead of user display names. Names were also not clickable to navigate to profiles.

**Root Cause**: 
- `Comment` model only stores `authorPubkey` (hex ID), not display name
- `comment.shortAuthorPubkey` getter just returned the full pubkey unchanged
- Comments screen was directly using this property without fetching user profiles

**Solution** in `mobile/lib/screens/comments_screen.dart`:
1. Added imports for `user_profile_providers` and `nav_extensions`
2. Wrapped avatar and name display in `Consumer` widgets
3. Fetched user profiles using `userProfileServiceProvider` (same pattern as video_feed_item.dart)
4. Displayed `profile?.bestDisplayName ?? profile?.displayName ?? profile?.name ?? 'Loading...'`
5. Made names clickable with `GestureDetector` and `context.goProfileGrid(comment.authorPubkey)`
6. Added underline decoration to indicate clickability

**Key Pattern**: When displaying user-generated content with pubkeys, ALWAYS fetch and display profiles using UserProfileService. Never show raw hex IDs in UI - they're meaningless to users. Use the same profile-fetching pattern across all screens for consistency (comments, videos, etc.).
