{
  "embedding": [
    -0.04082116112112999,
    -0.034782107919454575,
    -0.007015317678451538,
    -0.08572828024625778,
    0.0373561829328537,
    -0.01997951976954937,
    -0.0070015131495893,
    -0.03103976510465145,
    -0.012381168082356453,
    -0.009369290433824062,
    -0.06548571586608887,
    -0.09922400861978531,
    -0.05215121805667877,
    0.06288790702819824,
    0.0289237592369318,
    -0.010592651553452015,
    0.013585279695689678,
    -0.11342327296733856,
    -0.020024754106998444,
    -0.02159762568771839,
    0.007731570862233639,
    -0.02815280668437481,
    0.04382167384028435,
    0.055386848747730255,
    0.003049719613045454,
    -0.01679418794810772,
    0.023695116862654686,
    -0.04758273437619209,
    0.0004939541686326265,
    -0.014301949180662632,
    0.051001641899347305,
    0.0066373939625918865,
    -0.0690876767039299,
    -0.056451983749866486,
    -0.048069145530462265,
    0.0265436340123415,
    0.006666387431323528,
    0.040801383554935455,
    -0.1197778582572937,
    -0.04299401491880417,
    0.07294626533985138,
    -0.038174767047166824,
    -0.11138113588094711,
    -0.03707161918282509,
    -0.0007444192306138575,
    -0.0039720009081065655,
    0.0002495798980817199,
    -0.01288263313472271,
    0.07570575922727585,
    -0.011266677640378475,
    -0.014518889598548412,
    0.0011739229084923863,
    0.015911204740405083,
    -0.03303094953298569,
    0.030440881848335266,
    0.03437463566660881,
    0.016870042309165,
    0.034200601279735565,
    0.019359026104211807,
    -0.01897496171295643,
    0.02349185198545456,
    0.013348158448934555,
    -0.009897532872855663,
    -0.017111055552959442,
    0.02591654472053051,
    0.01816512644290924,
    0.002474903129041195,
    0.02013975754380226,
    0.09953422099351883,
    -0.04135189205408096,
    0.020205780863761902,
    0.04554526507854462,
    0.05645855888724327,
    -0.06312446296215057,
    -0.04751257970929146,
    -0.0798133909702301,
    -0.020686713978648186,
    0.031130803748965263,
    0.024117471650242805,
    -0.1269570291042328,
    -0.0528889000415802,
    -0.08761008828878403,
    -0.00691683404147625,
    0.08686109632253647,
    0.027774594724178314,
    0.04730229824781418,
    0.008174343034625053,
    -0.0688517838716507,
    0.029648466035723686,
    0.0510387197136879,
    0.005478724371641874,
    0.02185610868036747,
    -0.011853715404868126,
    -0.014654753729701042,
    0.08995261788368225,
    0.004913390148431063,
    -0.004517678637057543,
    -0.015100340358912945,
    -0.04200461879372597,
    0.04302429035305977,
    -0.039042264223098755,
    0.04258488491177559,
    0.028141431510448456,
    0.08743652701377869,
    0.11422853171825409,
    -0.0028362227603793144,
    -0.02640174888074398,
    0.011474469676613808,
    -0.0005182321183383465,
    0.020319633185863495,
    0.03902331739664078,
    -0.029261458665132523,
    0.06490425765514374,
    0.013549232855439186,
    0.021689852699637413,
    0.03604963421821594,
    -0.07850973308086395,
    0.019383277744054794,
    0.015472855418920517,
    0.06237119063735008,
    0.10460101068019867,
    -0.026991624385118484,
    0.04211366921663284,
    -0.025345178321003914,
    0.012750625610351562,
    0.048511095345020294,
    0.050297439098358154,
    5.6520780591809565e-33,
    0.02080976776778698,
    -0.07647960633039474,
    -0.037188801914453506,
    0.084149569272995,
    0.017437264323234558,
    0.061403267085552216,
    -0.022136947140097618,
    0.023832345381379128,
    0.030046967789530754,
    -0.04542895033955574,
    0.009949799627065659,
    -0.0327925905585289,
    -0.008748761378228664,
    -0.05992540344595909,
    0.012337423861026764,
    -0.07542217522859573,
    -0.018612680956721306,
    -0.04781065508723259,
    0.017803071066737175,
    -0.010876481421291828,
    0.027966149151325226,
    -0.0016518313204869628,
    -0.07886502891778946,
    -0.10071760416030884,
    -0.029355298727750778,
    -0.04695351421833038,
    0.012349818833172321,
    0.08038636296987534,
    -0.04824424162507057,
    0.012537596747279167,
    0.027827003970742226,
    -0.03448604419827461,
    0.06728820502758026,
    0.015128149650990963,
    -0.07342444360256195,
    -0.08018119633197784,
    0.04149395972490311,
    -0.04585687071084976,
    -0.05097284913063049,
    -0.09926515072584152,
    -0.0738554298877716,
    -0.0024681456852704287,
    -0.09946902841329575,
    0.011357967741787434,
    -0.022877827286720276,
    -0.1383061558008194,
    0.008530281484127045,
    0.006928717251867056,
    0.0492074079811573,
    0.06702693551778793,
    -0.01614159345626831,
    0.020084207877516747,
    -0.007781871594488621,
    -0.08346912264823914,
    -0.07609990984201431,
    -0.017854217439889908,
    0.022651929408311844,
    -0.012864365242421627,
    -0.03221341595053673,
    -0.1153550073504448,
    -0.023801540955901146,
    -0.0556379035115242,
    -0.03027544543147087,
    0.009959278628230095,
    0.027042163535952568,
    0.11130125820636749,
    0.006259853020310402,
    0.04218363016843796,
    -0.00836543645709753,
    -0.0432361364364624,
    -0.11169496178627014,
    0.00045180172310210764,
    0.013524401932954788,
    0.0013835154240950942,
    -0.001740170526318252,
    0.007342433091253042,
    0.07103010267019272,
    0.00900078285485506,
    -0.09211313724517822,
    -0.02883312478661537,
    0.00201434176415205,
    -0.015806136652827263,
    -0.023254038766026497,
    0.14727233350276947,
    0.06861399114131927,
    -0.017488542944192886,
    0.03545878455042839,
    -0.08801952749490738,
    -0.06679925322532654,
    0.04207043722271919,
    0.08389263600111008,
    0.0006974540883675218,
    0.14128552377223969,
    0.011665069498121738,
    -0.014200779609382153,
    -8.300737929968229e-33,
    -0.011073744855821133,
    -0.019509147852659225,
    -0.06491828709840775,
    0.019822102040052414,
    0.07580332458019257,
    -0.0320669524371624,
    0.026358196511864662,
    0.0936598926782608,
    0.030770324170589447,
    -0.06794093549251556,
    -0.021622534841299057,
    0.12323865294456482,
    -0.05120574310421944,
    0.008983239531517029,
    -0.08338063210248947,
    0.03844635933637619,
    0.05233033373951912,
    0.04613082855939865,
    0.03064708784222603,
    0.008640731684863567,
    0.03045615926384926,
    0.07492729276418686,
    -0.006727070081979036,
    -0.03274507820606232,
    -0.0014631787780672312,
    0.02890816517174244,
    0.048089466989040375,
    0.01401577703654766,
    0.03882385045289993,
    -0.07632129639387131,
    0.14632518589496613,
    -0.0013357230927795172,
    -0.01593928411602974,
    0.09471256285905838,
    -0.04571839049458504,
    -0.024157345294952393,
    0.08691486716270447,
    0.019056564196944237,
    -0.07579757273197174,
    -0.008074888028204441,
    0.13132904469966888,
    -0.0029358328320086002,
    -0.02535947784781456,
    -0.04482508823275566,
    0.009592327289283276,
    0.07700226455926895,
    0.06434515118598938,
    0.01215515099465847,
    -0.11217650026082993,
    -0.018352443352341652,
    0.033710889518260956,
    -0.019251810386776924,
    0.014510886743664742,
    0.04950256273150444,
    -0.009804881177842617,
    0.054244961589574814,
    0.12705831229686737,
    0.01874929666519165,
    0.0031507089734077454,
    -0.02336183562874794,
    0.03384137898683548,
    -0.05274038389325142,
    0.0051250881515443325,
    0.019279487431049347,
    -0.016442596912384033,
    0.013613203540444374,
    -0.008273235522210598,
    0.15878233313560486,
    0.10061502456665039,
    -0.003314859000965953,
    0.0035411419812589884,
    -0.011980117298662663,
    -0.04973462596535683,
    -0.025894861668348312,
    0.03458769991993904,
    0.033324431627988815,
    -0.03454950824379921,
    -0.08856303989887238,
    0.010121524333953857,
    -0.03916492685675621,
    -0.06081037223339081,
    0.030357209965586662,
    -0.04502362012863159,
    -0.104798823595047,
    0.012567058205604553,
    -0.02921605110168457,
    -0.02011842653155327,
    0.04727386683225632,
    0.08589259535074234,
    0.06226063519716263,
    -0.025704747065901756,
    0.0005330020212568343,
    -0.07483352720737457,
    0.033001527190208435,
    0.02318323589861393,
    -6.155823228937152e-8,
    0.013782416470348835,
    0.010892313905060291,
    -0.006304763723164797,
    0.017913343384861946,
    0.039040107280015945,
    -0.07982382923364639,
    0.033530883491039276,
    -0.08165562897920609,
    -0.04662918299436569,
    -0.09539075195789337,
    -0.052773963660001755,
    0.05240736901760101,
    -0.0225929394364357,
    -0.09821402281522751,
    0.04662521928548813,
    -0.0335732027888298,
    0.00944608822464943,
    -0.04115108773112297,
    -0.08192311972379684,
    -0.0563824325799942,
    -0.03557172045111656,
    -0.05696216598153114,
    -0.05396684631705284,
    -0.0037451821845024824,
    -0.10290821641683578,
    -0.05667247250676155,
    0.038575924932956696,
    0.0055681634694337845,
    0.006660889368504286,
    -0.07080037146806717,
    -0.03423510491847992,
    0.04321908578276634,
    0.026708513498306274,
    -0.013903207145631313,
    -0.07782578468322754,
    0.037906430661678314,
    -0.020616041496396065,
    -0.02751990593969822,
    0.09281603991985321,
    0.01539135817438364,
    0.022945379838347435,
    -0.005628819111734629,
    -0.025515547022223473,
    -0.03028370998799801,
    -0.004580567590892315,
    0.040547166019678116,
    -0.002365489723160863,
    -0.009236106649041176,
    0.053210269659757614,
    -0.04706280678510666,
    -0.011071358807384968,
    0.06185830011963844,
    -0.009970908053219318,
    -0.004515108652412891,
    0.012948322109878063,
    0.035958677530288696,
    -0.029109658673405647,
    -0.07540886849164963,
    0.03470918908715248,
    -0.034519046545028687,
    0.08837566524744034,
    -0.008990593254566193,
    0.045346010476350784,
    0.005016800947487354
  ],
  "text": "**Age Gate Issue - Phase 2 Complete**\n\n**Root Cause Identified:**\n\nThe WelcomeScreen (line 29-30) uses:\n```dart\nfinal authService = ref.watch(authServiceProvider);\nfinal authState = authService.authState;\n```\n\nThis watches the **AuthService instance** (provider), not the **auth state**. When `_setAuthState()` is called in auth_service.dart (lines 587-594), it only emits to StreamController - the AuthService instance itself doesn't change, so Riverpod doesn't trigger a rebuild.\n\n**The Flow:**\n1. App starts → DivineApp builds\n2. First frame renders  \n3. Post-frame callback → `_initializeServices()` called (main.dart:348-355)\n4. AuthService.initialize() called (main.dart:381)\n5. Auth state changes from `checking` → `authenticating` → `authenticated`\n6. StreamController emits events BUT WelcomeScreen doesn't rebuild\n7. Button never appears because screen is stuck showing old state\n\n**Solution Direction:**\nNeed to make WelcomeScreen reactive to auth state stream changes, not just the provider instance. Could use:\n- StreamProvider for authStateStream\n- ref.listen to auth state stream\n- Or make AuthService a ChangeNotifier again\n\nLet me verify the hypothesis by checking similar patterns in the codebase.",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1763061906550,
  "path": "/Users/rabble/code/andotherstuff/openvine/.private-journal/2025-11-13/19-25-06-550374.md"
}