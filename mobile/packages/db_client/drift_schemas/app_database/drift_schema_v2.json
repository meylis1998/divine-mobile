{
  "_meta": {
    "description": "This file contains a serialized version of schema entities for drift.",
    "version": "1.3.0"
  },
  "options": {
    "store_date_time_values_as_text": false
  },
  "entities": [
    {
      "id": 0,
      "references": [],
      "type": "table",
      "data": {
        "name": "event",
        "was_declared_in_moor": false,
        "columns": [
          {
            "name": "id",
            "getter_name": "id",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "pubkey",
            "getter_name": "pubkey",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "created_at",
            "getter_name": "createdAt",
            "moor_type": "int",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "kind",
            "getter_name": "kind",
            "moor_type": "int",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "tags",
            "getter_name": "tags",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "content",
            "getter_name": "content",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "sig",
            "getter_name": "sig",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "sources",
            "getter_name": "sources",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "expire_at",
            "getter_name": "expireAt",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          }
        ],
        "is_virtual": false,
        "without_rowid": false,
        "constraints": [],
        "explicit_pk": [
          "id"
        ]
      }
    },
    {
      "id": 1,
      "references": [],
      "type": "table",
      "data": {
        "name": "user_profiles",
        "was_declared_in_moor": false,
        "columns": [
          {
            "name": "pubkey",
            "getter_name": "pubkey",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "display_name",
            "getter_name": "displayName",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "name",
            "getter_name": "name",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "about",
            "getter_name": "about",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "picture",
            "getter_name": "picture",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "banner",
            "getter_name": "banner",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "website",
            "getter_name": "website",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "nip05",
            "getter_name": "nip05",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "lud16",
            "getter_name": "lud16",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "lud06",
            "getter_name": "lud06",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "raw_data",
            "getter_name": "rawData",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "created_at",
            "getter_name": "createdAt",
            "moor_type": "dateTime",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "event_id",
            "getter_name": "eventId",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "last_fetched",
            "getter_name": "lastFetched",
            "moor_type": "dateTime",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          }
        ],
        "is_virtual": false,
        "without_rowid": false,
        "constraints": [],
        "explicit_pk": [
          "pubkey"
        ]
      }
    },
    {
      "id": 2,
      "references": [
        0
      ],
      "type": "table",
      "data": {
        "name": "video_metrics",
        "was_declared_in_moor": false,
        "columns": [
          {
            "name": "event_id",
            "getter_name": "eventId",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "loop_count",
            "getter_name": "loopCount",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "likes",
            "getter_name": "likes",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "views",
            "getter_name": "views",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "comments",
            "getter_name": "comments",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "avg_completion",
            "getter_name": "avgCompletion",
            "moor_type": "double",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "has_proofmode",
            "getter_name": "hasProofmode",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "has_device_attestation",
            "getter_name": "hasDeviceAttestation",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "has_pgp_signature",
            "getter_name": "hasPgpSignature",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "updated_at",
            "getter_name": "updatedAt",
            "moor_type": "dateTime",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          }
        ],
        "is_virtual": false,
        "without_rowid": false,
        "constraints": [
          "FOREIGN KEY (event_id) REFERENCES event(id) ON DELETE CASCADE"
        ],
        "explicit_pk": [
          "event_id"
        ]
      }
    },
    {
      "id": 3,
      "references": [],
      "type": "table",
      "data": {
        "name": "profile_stats",
        "was_declared_in_moor": false,
        "columns": [
          {
            "name": "pubkey",
            "getter_name": "pubkey",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "video_count",
            "getter_name": "videoCount",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "follower_count",
            "getter_name": "followerCount",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "following_count",
            "getter_name": "followingCount",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "total_views",
            "getter_name": "totalViews",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "total_likes",
            "getter_name": "totalLikes",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "cached_at",
            "getter_name": "cachedAt",
            "moor_type": "dateTime",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          }
        ],
        "is_virtual": false,
        "without_rowid": false,
        "constraints": [],
        "explicit_pk": [
          "pubkey"
        ]
      }
    },
    {
      "id": 4,
      "references": [],
      "type": "table",
      "data": {
        "name": "hashtag_stats",
        "was_declared_in_moor": false,
        "columns": [
          {
            "name": "hashtag",
            "getter_name": "hashtag",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "video_count",
            "getter_name": "videoCount",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "total_views",
            "getter_name": "totalViews",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "total_likes",
            "getter_name": "totalLikes",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "cached_at",
            "getter_name": "cachedAt",
            "moor_type": "dateTime",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          }
        ],
        "is_virtual": false,
        "without_rowid": false,
        "constraints": [],
        "explicit_pk": [
          "hashtag"
        ]
      }
    },
    {
      "id": 5,
      "references": [],
      "type": "table",
      "data": {
        "name": "notifications",
        "was_declared_in_moor": false,
        "columns": [
          {
            "name": "id",
            "getter_name": "id",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "type",
            "getter_name": "type",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "from_pubkey",
            "getter_name": "fromPubkey",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "target_event_id",
            "getter_name": "targetEventId",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "target_pubkey",
            "getter_name": "targetPubkey",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "content",
            "getter_name": "content",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "timestamp",
            "getter_name": "timestamp",
            "moor_type": "int",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "is_read",
            "getter_name": "isRead",
            "moor_type": "bool",
            "nullable": false,
            "customConstraints": null,
            "defaultConstraints": "CHECK (\"is_read\" IN (0, 1))",
            "dialectAwareDefaultConstraints": {
              "sqlite": "CHECK (\"is_read\" IN (0, 1))"
            },
            "default_dart": "const CustomExpression('0')",
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "cached_at",
            "getter_name": "cachedAt",
            "moor_type": "dateTime",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          }
        ],
        "is_virtual": false,
        "without_rowid": false,
        "constraints": [],
        "explicit_pk": [
          "id"
        ]
      }
    },
    {
      "id": 6,
      "references": [],
      "type": "table",
      "data": {
        "name": "pending_uploads",
        "was_declared_in_moor": false,
        "columns": [
          {
            "name": "id",
            "getter_name": "id",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "local_video_path",
            "getter_name": "localVideoPath",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "nostr_pubkey",
            "getter_name": "nostrPubkey",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "status",
            "getter_name": "status",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "created_at",
            "getter_name": "createdAt",
            "moor_type": "dateTime",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "cloudinary_public_id",
            "getter_name": "cloudinaryPublicId",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "video_id",
            "getter_name": "videoId",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "cdn_url",
            "getter_name": "cdnUrl",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "error_message",
            "getter_name": "errorMessage",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "upload_progress",
            "getter_name": "uploadProgress",
            "moor_type": "double",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "thumbnail_path",
            "getter_name": "thumbnailPath",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "title",
            "getter_name": "title",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "description",
            "getter_name": "description",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "hashtags",
            "getter_name": "hashtags",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "nostr_event_id",
            "getter_name": "nostrEventId",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "completed_at",
            "getter_name": "completedAt",
            "moor_type": "dateTime",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "retry_count",
            "getter_name": "retryCount",
            "moor_type": "int",
            "nullable": false,
            "customConstraints": null,
            "default_dart": "const CustomExpression('0')",
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "video_width",
            "getter_name": "videoWidth",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "video_height",
            "getter_name": "videoHeight",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "video_duration_millis",
            "getter_name": "videoDurationMillis",
            "moor_type": "int",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "proof_manifest_json",
            "getter_name": "proofManifestJson",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "streaming_mp4_url",
            "getter_name": "streamingMp4Url",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "streaming_hls_url",
            "getter_name": "streamingHlsUrl",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "fallback_url",
            "getter_name": "fallbackUrl",
            "moor_type": "string",
            "nullable": true,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          }
        ],
        "is_virtual": false,
        "without_rowid": false,
        "constraints": [],
        "explicit_pk": [
          "id"
        ]
      }
    },
    {
      "id": 7,
      "references": [],
      "type": "table",
      "data": {
        "name": "personal_reactions",
        "was_declared_in_moor": false,
        "columns": [
          {
            "name": "target_event_id",
            "getter_name": "targetEventId",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "reaction_event_id",
            "getter_name": "reactionEventId",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "user_pubkey",
            "getter_name": "userPubkey",
            "moor_type": "string",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          },
          {
            "name": "created_at",
            "getter_name": "createdAt",
            "moor_type": "int",
            "nullable": false,
            "customConstraints": null,
            "default_dart": null,
            "default_client_dart": null,
            "dsl_features": []
          }
        ],
        "is_virtual": false,
        "without_rowid": false,
        "constraints": [],
        "explicit_pk": [
          "target_event_id",
          "user_pubkey"
        ]
      }
    }
  ],
  "fixed_sql": [
    {
      "name": "event",
      "sql": [
        {
          "dialect": "sqlite",
          "sql": "CREATE TABLE IF NOT EXISTS \"event\" (\"id\" TEXT NOT NULL, \"pubkey\" TEXT NOT NULL, \"created_at\" INTEGER NOT NULL, \"kind\" INTEGER NOT NULL, \"tags\" TEXT NOT NULL, \"content\" TEXT NOT NULL, \"sig\" TEXT NOT NULL, \"sources\" TEXT NULL, \"expire_at\" INTEGER NULL, PRIMARY KEY (\"id\"));"
        }
      ]
    },
    {
      "name": "user_profiles",
      "sql": [
        {
          "dialect": "sqlite",
          "sql": "CREATE TABLE IF NOT EXISTS \"user_profiles\" (\"pubkey\" TEXT NOT NULL, \"display_name\" TEXT NULL, \"name\" TEXT NULL, \"about\" TEXT NULL, \"picture\" TEXT NULL, \"banner\" TEXT NULL, \"website\" TEXT NULL, \"nip05\" TEXT NULL, \"lud16\" TEXT NULL, \"lud06\" TEXT NULL, \"raw_data\" TEXT NULL, \"created_at\" INTEGER NOT NULL, \"event_id\" TEXT NOT NULL, \"last_fetched\" INTEGER NOT NULL, PRIMARY KEY (\"pubkey\"));"
        }
      ]
    },
    {
      "name": "video_metrics",
      "sql": [
        {
          "dialect": "sqlite",
          "sql": "CREATE TABLE IF NOT EXISTS \"video_metrics\" (\"event_id\" TEXT NOT NULL, \"loop_count\" INTEGER NULL, \"likes\" INTEGER NULL, \"views\" INTEGER NULL, \"comments\" INTEGER NULL, \"avg_completion\" REAL NULL, \"has_proofmode\" INTEGER NULL, \"has_device_attestation\" INTEGER NULL, \"has_pgp_signature\" INTEGER NULL, \"updated_at\" INTEGER NOT NULL, PRIMARY KEY (\"event_id\"), FOREIGN KEY (event_id) REFERENCES event(id) ON DELETE CASCADE);"
        }
      ]
    },
    {
      "name": "profile_stats",
      "sql": [
        {
          "dialect": "sqlite",
          "sql": "CREATE TABLE IF NOT EXISTS \"profile_stats\" (\"pubkey\" TEXT NOT NULL, \"video_count\" INTEGER NULL, \"follower_count\" INTEGER NULL, \"following_count\" INTEGER NULL, \"total_views\" INTEGER NULL, \"total_likes\" INTEGER NULL, \"cached_at\" INTEGER NOT NULL, PRIMARY KEY (\"pubkey\"));"
        }
      ]
    },
    {
      "name": "hashtag_stats",
      "sql": [
        {
          "dialect": "sqlite",
          "sql": "CREATE TABLE IF NOT EXISTS \"hashtag_stats\" (\"hashtag\" TEXT NOT NULL, \"video_count\" INTEGER NULL, \"total_views\" INTEGER NULL, \"total_likes\" INTEGER NULL, \"cached_at\" INTEGER NOT NULL, PRIMARY KEY (\"hashtag\"));"
        }
      ]
    },
    {
      "name": "notifications",
      "sql": [
        {
          "dialect": "sqlite",
          "sql": "CREATE TABLE IF NOT EXISTS \"notifications\" (\"id\" TEXT NOT NULL, \"type\" TEXT NOT NULL, \"from_pubkey\" TEXT NOT NULL, \"target_event_id\" TEXT NULL, \"target_pubkey\" TEXT NULL, \"content\" TEXT NULL, \"timestamp\" INTEGER NOT NULL, \"is_read\" INTEGER NOT NULL DEFAULT 0 CHECK (\"is_read\" IN (0, 1)), \"cached_at\" INTEGER NOT NULL, PRIMARY KEY (\"id\"));"
        }
      ]
    },
    {
      "name": "pending_uploads",
      "sql": [
        {
          "dialect": "sqlite",
          "sql": "CREATE TABLE IF NOT EXISTS \"pending_uploads\" (\"id\" TEXT NOT NULL, \"local_video_path\" TEXT NOT NULL, \"nostr_pubkey\" TEXT NOT NULL, \"status\" TEXT NOT NULL, \"created_at\" INTEGER NOT NULL, \"cloudinary_public_id\" TEXT NULL, \"video_id\" TEXT NULL, \"cdn_url\" TEXT NULL, \"error_message\" TEXT NULL, \"upload_progress\" REAL NULL, \"thumbnail_path\" TEXT NULL, \"title\" TEXT NULL, \"description\" TEXT NULL, \"hashtags\" TEXT NULL, \"nostr_event_id\" TEXT NULL, \"completed_at\" INTEGER NULL, \"retry_count\" INTEGER NOT NULL DEFAULT 0, \"video_width\" INTEGER NULL, \"video_height\" INTEGER NULL, \"video_duration_millis\" INTEGER NULL, \"proof_manifest_json\" TEXT NULL, \"streaming_mp4_url\" TEXT NULL, \"streaming_hls_url\" TEXT NULL, \"fallback_url\" TEXT NULL, PRIMARY KEY (\"id\"));"
        }
      ]
    },
    {
      "name": "personal_reactions",
      "sql": [
        {
          "dialect": "sqlite",
          "sql": "CREATE TABLE IF NOT EXISTS \"personal_reactions\" (\"target_event_id\" TEXT NOT NULL, \"reaction_event_id\" TEXT NOT NULL, \"user_pubkey\" TEXT NOT NULL, \"created_at\" INTEGER NOT NULL, PRIMARY KEY (\"target_event_id\", \"user_pubkey\"));"
        }
      ]
    }
  ]
}