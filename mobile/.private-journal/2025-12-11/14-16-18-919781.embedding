{
  "embedding": [
    -0.046169765293598175,
    -0.10029043257236481,
    0.006116156466305256,
    0.005892406217753887,
    0.01016075536608696,
    -0.00004712025838671252,
    -0.0008227078942582011,
    -0.046349480748176575,
    0.01600506901741028,
    0.04848030209541321,
    -0.001252718036994338,
    0.05480239540338516,
    -0.006028485018759966,
    0.07130894064903259,
    0.01101970300078392,
    0.07240540534257889,
    0.07402615994215012,
    -0.1137118712067604,
    -0.08798996359109879,
    -0.011197478510439396,
    -0.022215381264686584,
    -0.058597955852746964,
    0.03749596327543259,
    0.026141764596104622,
    0.002481484320014715,
    -0.03080468438565731,
    -0.059369251132011414,
    -0.04090452939271927,
    -0.06339986622333527,
    0.041045576333999634,
    -0.03761250153183937,
    -0.0036267463583499193,
    -0.2009064257144928,
    -0.03045106865465641,
    -0.03206917643547058,
    0.03295936807990074,
    -0.04660042002797127,
    0.02852010913193226,
    -0.12153056263923645,
    -0.04264348745346069,
    0.04945353418588638,
    0.011619285680353642,
    -0.05617614835500717,
    -0.009268815629184246,
    -0.05118824914097786,
    0.025459054857492447,
    0.009944607503712177,
    0.003932198043912649,
    0.013588150031864643,
    -0.04890599101781845,
    -0.02951049618422985,
    0.10131174325942993,
    -0.005418181885033846,
    0.06661105155944824,
    0.11687376350164413,
    0.0332198403775692,
    -0.009500166401267052,
    0.03012445941567421,
    0.04345594346523285,
    0.037743259221315384,
    0.034974414855241776,
    -0.020180555060505867,
    -0.0034332957584410906,
    -0.03146478161215782,
    0.03629234433174133,
    0.000028795122489100322,
    -0.024350270628929138,
    0.01687237061560154,
    0.045155350118875504,
    0.026273168623447418,
    -0.022300705313682556,
    0.07766739279031754,
    0.030593864619731903,
    0.028558244928717613,
    -0.003490956500172615,
    0.018846601247787476,
    0.05026352405548096,
    0.016596397385001183,
    -0.044923946261405945,
    -0.14196769893169403,
    0.09595389664173126,
    -0.024554172530770302,
    -0.04081029072403908,
    0.06145020201802254,
    0.10079201310873032,
    0.011858457699418068,
    0.007713612634688616,
    -0.06728176027536392,
    -0.01237296313047409,
    0.026361914351582527,
    0.0070956675335764885,
    -0.03000364638864994,
    -0.07343745231628418,
    -0.007058200892060995,
    0.10157851874828339,
    -0.03913183510303497,
    -0.007949888706207275,
    0.03413993492722511,
    -0.10639142990112305,
    0.01391953881829977,
    0.02067149616777897,
    -0.02167811617255211,
    0.0630740374326706,
    -0.007439254783093929,
    0.002287484472617507,
    -0.04908245429396629,
    0.015306700952351093,
    0.03409396857023239,
    -0.0025590271688997746,
    0.001658265944570303,
    0.019814707338809967,
    -0.04990397393703461,
    0.05150546133518219,
    -0.00049643125385046,
    0.004433664493262768,
    0.041849806904792786,
    -0.004943182226270437,
    0.014716388657689095,
    -0.055298883467912674,
    0.058955106884241104,
    0.02882728911936283,
    -0.02131880819797516,
    0.03750399500131607,
    -0.06373649835586548,
    -0.06248769164085388,
    0.009985694661736488,
    0.0840698778629303,
    3.285597444018498e-33,
    -0.0020323973149061203,
    -0.03659902885556221,
    -0.0639055147767067,
    0.03153461217880249,
    -0.00010533968452364206,
    0.030373115092515945,
    0.010297982022166252,
    0.03771413117647171,
    -0.027522610500454903,
    0.015882186591625214,
    -0.036183182150125504,
    -0.03211776912212372,
    0.019170062616467476,
    -0.05808830261230469,
    -0.03772243857383728,
    -0.010880639776587486,
    0.08505865186452866,
    0.054363641887903214,
    0.015131871215999126,
    -0.004408108536154032,
    0.10031037777662277,
    0.016007253900170326,
    -0.0275273397564888,
    -0.09550062566995621,
    -0.0570833645761013,
    -0.040243614464998245,
    0.03846058249473572,
    -0.05316159874200821,
    -0.009257679805159569,
    0.007152507547289133,
    0.0069846161641180515,
    0.005270436406135559,
    0.05696478858590126,
    -0.0169629268348217,
    -0.017952382564544678,
    -0.036419082432985306,
    0.018375929445028305,
    -0.06361009925603867,
    -0.003053950611501932,
    -0.08700527995824814,
    -0.028225770220160484,
    0.009728915058076382,
    -0.0989852100610733,
    0.008597692474722862,
    0.03165958821773529,
    -0.12869343161582947,
    -0.018284020945429802,
    0.024665312841534615,
    0.015057836659252644,
    0.0668586939573288,
    0.008123182691633701,
    0.014955386519432068,
    0.013461533933877945,
    -0.11639398336410522,
    -0.02095957286655903,
    0.036669954657554626,
    0.051513563841581345,
    -0.002754159504547715,
    -0.053978171199560165,
    -0.09021113812923431,
    0.01651025377213955,
    -0.013858456164598465,
    -0.11625625938177109,
    -0.10903409868478775,
    0.05292316898703575,
    0.01888919249176979,
    -0.027545137330889702,
    0.01896582916378975,
    -0.034464966505765915,
    -0.006260818801820278,
    -0.08706191927194595,
    0.011846219189465046,
    -0.004230388905853033,
    0.012465683743357658,
    0.0082040810957551,
    -0.011569581925868988,
    -0.02582656592130661,
    0.017997585237026215,
    -0.12786105275154114,
    0.028700605034828186,
    -0.012379525229334831,
    -0.0638294517993927,
    -0.026424020528793335,
    0.0770026445388794,
    -0.03651278093457222,
    0.03783392161130905,
    0.027707304805517197,
    -0.08665291219949722,
    -0.096397764980793,
    0.06405754387378693,
    0.1036757305264473,
    0.05294466018676758,
    0.06427521258592606,
    0.0509692057967186,
    0.011390222236514091,
    -4.449502155225647e-33,
    -0.05902242660522461,
    0.044885747134685516,
    -0.06051446497440338,
    0.04529938846826553,
    0.08872810006141663,
    -0.04039444029331207,
    -0.035982679575681686,
    0.03636444732546806,
    0.022339263930916786,
    -0.059252943843603134,
    0.015263148583471775,
    0.016433648765087128,
    -0.011157595552504063,
    -0.03118046373128891,
    -0.0975637435913086,
    0.04083701968193054,
    -0.02008856274187565,
    -0.007444045506417751,
    0.02990647219121456,
    0.014683845452964306,
    0.07640943676233292,
    0.08720946311950684,
    0.0402781218290329,
    -0.020549096167087555,
    -0.023135732859373093,
    0.04727531969547272,
    0.10454559326171875,
    0.07815708220005035,
    -0.025340991094708443,
    -0.030795129016041756,
    0.1306300312280655,
    -0.040367335081100464,
    -0.03176425024867058,
    0.0915546640753746,
    -0.0018369550816714764,
    -0.007135691121220589,
    0.09096265584230423,
    0.02181030996143818,
    -0.06786923855543137,
    -0.038618579506874084,
    0.13128861784934998,
    0.07980282604694366,
    -0.03564883768558502,
    0.017540380358695984,
    0.03643648698925972,
    0.024633031338453293,
    0.0243954099714756,
    -0.028066519647836685,
    -0.08290346711874008,
    0.015385217033326626,
    0.07607288658618927,
    -0.06735118478536606,
    -0.014330139383673668,
    0.01719740964472294,
    0.06478407979011536,
    0.0120245311409235,
    0.03251282125711441,
    0.04088527709245682,
    0.022968726232647896,
    0.025668932124972343,
    0.06854982674121857,
    -0.010178020223975182,
    0.04251469671726227,
    0.030819229781627655,
    0.011837590485811234,
    -0.0011131445644423366,
    -0.019845299422740936,
    0.02312510646879673,
    0.07059025019407272,
    -0.022023193538188934,
    -0.03149821609258652,
    0.07910840958356857,
    -0.009417736902832985,
    -0.03075454942882061,
    0.034930914640426636,
    0.09442119300365448,
    0.0020623034797608852,
    -0.06359449028968811,
    0.00921973492950201,
    0.03911257162690163,
    -0.11913144588470459,
    0.0022177512291818857,
    -0.06921625137329102,
    -0.05553615838289261,
    0.04033799096941948,
    0.0681043341755867,
    0.03196175768971443,
    0.13892409205436707,
    0.02302158810198307,
    0.03033681958913803,
    -0.07860561460256577,
    0.025370310992002487,
    -0.006788341328501701,
    -0.03535197302699089,
    0.0240806732326746,
    -4.9987544770146997e-8,
    0.010289452038705349,
    0.02855471894145012,
    -0.03636757656931877,
    -0.032368045300245285,
    -0.019411038607358932,
    0.06871235370635986,
    0.05925649777054787,
    -0.08718273788690567,
    -0.01963035762310028,
    0.019825249910354614,
    -0.09191607683897018,
    0.04703642427921295,
    -0.03740060701966286,
    -0.02168414741754532,
    -0.03247137740254402,
    -0.06701521575450897,
    0.0070802983827888966,
    -0.08054674416780472,
    -0.05975332856178284,
    -0.02597740851342678,
    0.012682638131082058,
    -0.008870527148246765,
    -0.0369752012193203,
    0.07771644741296768,
    -0.05816385895013809,
    0.0007075794856064022,
    0.03795355185866356,
    -0.05371706187725067,
    -0.09161145985126495,
    -0.03059997968375683,
    -0.03523051366209984,
    -0.03544091060757637,
    0.013044014573097229,
    -0.06656922399997711,
    -0.13461288809776306,
    0.12723487615585327,
    0.0016388564836233854,
    0.007112127263098955,
    0.009852258488535881,
    -0.03157287463545799,
    0.05267704278230667,
    0.013956105336546898,
    0.047228336334228516,
    -0.02543812431395054,
    0.04929673671722412,
    0.02344701439142227,
    0.01981823332607746,
    0.01878071390092373,
    0.012840667739510536,
    -0.015538867563009262,
    -0.033462971448898315,
    -0.04935339465737343,
    -0.03810771554708481,
    -0.013054175302386284,
    0.02783402055501938,
    -0.012384639121592045,
    0.008924753405153751,
    -0.07121915370225906,
    0.004350879695266485,
    -0.01921689696609974,
    0.07257024198770523,
    -0.031140252947807312,
    -0.032817989587783813,
    0.022250091657042503
  ],
  "text": "**Relay Connection Issues Investigation (2025-12-11)**\n\nUser reported two related issues:\n1. App loads on iOS, gets videos but shows \"no relays\"\n2. \"Restore Default Relay\" button says it fails but actually works\n\n**Root Cause Analysis:**\n\n**Issue 1: Misleading \"restore default\" error**\nThe `addRelay()` method in nostr_service.dart (line 1273-1278) returns `false` when the relay is already in `_configuredRelays`:\n```dart\nif (_configuredRelays.contains(relayUrl)) {\n  return false; // Already added\n}\n```\n\nWhen user clicks \"Restore Default Relay\":\n- The relay IS already in `_configuredRelays` (loaded from SharedPreferences)\n- So `addRelay()` returns `false`\n- The UI shows error: \"Failed to restore default relay\"\n- But the relay WAS there the whole time - so functionally it \"worked\"\n\nThis is semantically incorrect - having the relay already configured is a success, not a failure.\n\n**Issue 2: Connection hanging during initialization**\nLooking at the logs:\n```\n[14:10:33.381] [RELAY] üîå Connecting to external relay: wss://relay.divine.video\n```\nAfter this line, there's NO success or failure log. The expected logs would be either:\n- `‚úÖ External relay connected: wss://relay.divine.video (XXms)`\n- `‚ùå External relay FAILED to connect: wss://relay.divine.video`\n\nThe connection to `wss://relay.divine.video` is silently failing or hanging. The `addExternalRelay()` call on the embedded relay isn't throwing but also isn't successfully connecting.\n\n**Fix for Issue 1:**\nChange `addRelay()` to return `true` when relay is already configured, and try to reconnect it if not connected.\n\n**Investigation needed for Issue 2:**\nNeed to look at why the embedded relay's connection to wss://relay.divine.video is hanging.",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1765415778919,
  "path": "/Users/rabble/code/andotherstuff/openvine/mobile/.private-journal/2025-12-11/14-16-18-919781.md"
}