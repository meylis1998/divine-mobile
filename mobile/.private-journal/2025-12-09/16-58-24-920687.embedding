{
  "embedding": [
    -0.019887974485754967,
    -0.038604818284511566,
    0.046425119042396545,
    -0.09257177263498306,
    0.018267497420310974,
    -0.007918859831988811,
    -0.02066819928586483,
    -0.05154760926961899,
    0.10150747001171112,
    0.03379599004983902,
    0.006377252284437418,
    0.09367462247610092,
    0.0005882125697098672,
    0.046127818524837494,
    -0.010078372433781624,
    0.030057499185204506,
    0.0640701949596405,
    -0.012891647405922413,
    -0.10862112045288086,
    0.03292148560285568,
    -0.04980912432074547,
    -0.0614691823720932,
    -0.016549721360206604,
    0.05757099762558937,
    -0.04145241901278496,
    0.0009043324389494956,
    -0.06459525972604752,
    0.0453212596476078,
    -0.04812968894839287,
    -0.03975123539566994,
    0.08375662565231323,
    0.01978333853185177,
    -0.10560963302850723,
    -0.01873350329697132,
    -0.005461826454848051,
    -0.02954636514186859,
    0.004041583277285099,
    -0.08686850219964981,
    -0.0446985587477684,
    -0.06460162252187729,
    0.11976391077041626,
    0.03560134395956993,
    -0.024263562634587288,
    0.02216067537665367,
    -0.06398896872997284,
    0.06049732863903046,
    -0.011411726474761963,
    -0.052123699337244034,
    -0.0221235491335392,
    -0.051951855421066284,
    -0.11346292495727539,
    0.002277430146932602,
    -0.01880853995680809,
    0.05015706643462181,
    -0.04855963587760925,
    -0.0318351574242115,
    -0.06931131333112717,
    0.08504705131053925,
    0.08972122520208359,
    0.07582646608352661,
    -0.0006984416977502406,
    -0.07299091666936874,
    0.08132494986057281,
    0.003900944720953703,
    -0.007128450088202953,
    0.02002771757543087,
    0.04146657511591911,
    -0.06514313071966171,
    0.00194503553211689,
    -0.009429903700947762,
    -0.04656070098280907,
    0.09015834331512451,
    -0.06136378273367882,
    0.03664704039692879,
    -0.0541401132941246,
    0.008840388618409634,
    0.035088978707790375,
    0.010875456035137177,
    0.006145251914858818,
    -0.09955322742462158,
    0.0669945627450943,
    -0.0534762479364872,
    -0.018813278526067734,
    -0.005579437594860792,
    0.049673765897750854,
    -0.045032158493995667,
    0.02264343574643135,
    -0.007454630918800831,
    -0.000835316488519311,
    0.043628547340631485,
    -0.04549281671643257,
    0.04295242577791214,
    0.025082336738705635,
    0.006290591787546873,
    0.07156989723443985,
    0.0372643806040287,
    -0.0023224058095365763,
    -0.01673480123281479,
    0.009796995669603348,
    0.05216412991285324,
    -0.015466929413378239,
    0.04292376711964607,
    0.09599322080612183,
    -0.06731634587049484,
    -0.008758277632296085,
    -0.0062605333514511585,
    0.014681681990623474,
    0.16427218914031982,
    0.06364049762487411,
    -0.002940417965874076,
    0.011631712317466736,
    -0.07159386575222015,
    -0.009936880320310593,
    -0.036159828305244446,
    -0.0179684367030859,
    0.09448140859603882,
    -0.07738077640533447,
    0.009054972790181637,
    -0.12910199165344238,
    0.024813644587993622,
    0.07256410270929337,
    -0.038498587906360626,
    0.04356812313199043,
    0.020018139854073524,
    -0.041303738951683044,
    -0.0011543253203853965,
    0.026222191751003265,
    4.272104629323209e-33,
    0.033728986978530884,
    -0.01243654265999794,
    -0.004286596551537514,
    0.026073703542351723,
    0.03719683364033699,
    -0.044896285980939865,
    0.038545895367860794,
    0.02812761627137661,
    -0.08672135323286057,
    -0.05809317156672478,
    0.012808790430426598,
    -0.028487620875239372,
    0.015171988867223263,
    -0.04549723118543625,
    -0.0009650249849073589,
    0.0007517795311287045,
    0.03461446613073349,
    0.02021847479045391,
    0.0305472444742918,
    0.05257771909236908,
    0.050676129758358,
    -0.0529557503759861,
    -0.02445109561085701,
    -0.05697181075811386,
    -0.06798992305994034,
    0.03474077954888344,
    0.018663648515939713,
    -0.046973660588264465,
    0.07588356733322144,
    -0.0016710803611204028,
    0.02953963726758957,
    -0.021897591650485992,
    0.05672507733106613,
    0.0290397759526968,
    0.08065319061279297,
    -0.046858932822942734,
    -0.026750950142741203,
    -0.04587118700146675,
    -0.06277760118246078,
    -0.02607220597565174,
    0.04571770876646042,
    0.0706251934170723,
    -0.10981157422065735,
    0.08415006846189499,
    -0.09061459451913834,
    -0.060433246195316315,
    -0.0016536923358216882,
    -0.030778303742408752,
    0.005544177256524563,
    0.08268841356039047,
    -0.04706460237503052,
    0.03428122401237488,
    0.0756605714559555,
    -0.03766340762376785,
    -0.04028147831559181,
    0.04054468125104904,
    0.03902232646942139,
    -0.05838076025247574,
    -0.009594462811946869,
    -0.04350416734814644,
    0.07216612249612808,
    -0.04949628934264183,
    -0.050564177334308624,
    -0.01805056259036064,
    -0.012054188176989555,
    -0.058910269290208817,
    0.05257762596011162,
    0.07893723249435425,
    0.004344363696873188,
    0.0759764164686203,
    -0.0043946318328380585,
    -0.006823166273534298,
    0.058976802974939346,
    -0.0044647445902228355,
    0.014054564759135246,
    -0.08443745225667953,
    -0.055737245827913284,
    -0.03027602843940258,
    -0.018678633496165276,
    -0.013283880427479744,
    -0.025952015072107315,
    -0.0019386482890695333,
    0.008202506229281425,
    0.040532395243644714,
    -0.13253462314605713,
    0.039833731949329376,
    0.00453144870698452,
    -0.015214158222079277,
    -0.0873359963297844,
    -0.02171616442501545,
    0.04038657993078232,
    0.02623695135116577,
    0.036286860704422,
    -0.044929247349500656,
    0.0022179207298904657,
    -3.831845260741799e-33,
    -0.013701314106583595,
    0.027887800708413124,
    -0.07681809365749359,
    0.0702962800860405,
    0.08989313244819641,
    -0.04043249413371086,
    0.0802757665514946,
    0.09804164618253708,
    0.044717442244291306,
    -0.039994388818740845,
    0.034455444663763046,
    -0.05047504976391792,
    -0.06459379196166992,
    -0.06787107139825821,
    -0.09473884850740433,
    -0.011533796787261963,
    0.0015440868446603417,
    -0.051374949514865875,
    -0.029989268630743027,
    -0.0061522661708295345,
    -0.03477715328335762,
    0.041087012737989426,
    0.047518614679574966,
    0.028323164209723473,
    -0.009034342132508755,
    0.10072463005781174,
    0.03712887316942215,
    0.03357143700122833,
    0.03588543459773064,
    -0.0253435205668211,
    0.09869948774576187,
    0.024708235636353493,
    -0.10160502046346664,
    -0.014962255023419857,
    0.005135625135153532,
    0.01171308383345604,
    0.0761866644024849,
    0.08138450235128403,
    -0.054203249514102936,
    -0.005909298080950975,
    0.05481044948101044,
    0.03219610080122948,
    -0.013585818000137806,
    0.05074523389339447,
    0.047786030918359756,
    0.04100140929222107,
    -0.01787419617176056,
    0.07660257816314697,
    -0.02339429222047329,
    -0.01368238776922226,
    0.04801127314567566,
    0.001885350444354117,
    0.02103847824037075,
    0.015996435657143593,
    0.033347249031066895,
    0.004520230460911989,
    -0.04364895075559616,
    0.009007364511489868,
    -0.0933627113699913,
    0.03315335884690285,
    0.10140218585729599,
    -0.01529550552368164,
    -0.06673666089773178,
    0.03986436501145363,
    -0.08470506966114044,
    0.08283739537000656,
    -0.03342457488179207,
    0.0007267697947099805,
    0.010455213487148285,
    0.019866975024342537,
    -0.09218306094408035,
    -0.0603303462266922,
    -0.04324093833565712,
    -0.010588995181024075,
    0.09544199705123901,
    -0.02028369903564453,
    -0.02492465265095234,
    -0.043938860297203064,
    0.06709540635347366,
    0.046027522534132004,
    -0.07377154380083084,
    0.0710609182715416,
    -0.08453623205423355,
    -0.0001211567287100479,
    0.07618770003318787,
    -0.04461665824055672,
    0.03356141224503517,
    0.05282127857208252,
    -0.05771138146519661,
    0.017158694565296173,
    -0.0488777682185173,
    0.043285071849823,
    -0.06267882138490677,
    -0.022173207253217697,
    0.07238016277551651,
    -4.41326513112017e-8,
    -0.0032980567775666714,
    0.020655052736401558,
    -0.03977985307574272,
    0.042218342423439026,
    0.03797183930873871,
    0.025671202689409256,
    -0.004128642380237579,
    -0.0193889532238245,
    0.046612124890089035,
    -0.017829516902565956,
    -0.006816868204623461,
    -0.0693359225988388,
    -0.04281783476471901,
    -0.015400012955069542,
    -0.05328591540455818,
    -0.04342707619071007,
    0.008041477762162685,
    0.04615597054362297,
    -0.06958183646202087,
    -0.00018920573347713798,
    -0.0658460184931755,
    0.026476245373487473,
    0.020134715363383293,
    -0.1309465914964676,
    0.007327240891754627,
    -0.00888237077742815,
    0.020585471764206886,
    0.016125047579407692,
    -0.0715760663151741,
    -0.05497584119439125,
    -0.0032459271606057882,
    -0.03688628599047661,
    -0.027633940801024437,
    -0.10287361592054367,
    -0.036748237907886505,
    0.07818391919136047,
    -0.06171393766999245,
    0.021787136793136597,
    -0.007083853241056204,
    0.06291434913873672,
    -0.007318067364394665,
    0.020575275644659996,
    0.0779055505990982,
    -0.027807235717773438,
    0.038035742938518524,
    -0.025128481909632683,
    0.0010645875008776784,
    0.07277523726224899,
    -0.04316610097885132,
    0.05162137374281883,
    -0.03725077956914902,
    0.00028597991331480443,
    -0.06277109682559967,
    0.019929777830839157,
    0.03793945908546448,
    -0.030654096975922585,
    0.06498441845178604,
    -0.0836949273943901,
    -0.02610110677778721,
    0.031417109072208405,
    0.1322365254163742,
    -0.06770222634077072,
    -0.006616497412323952,
    0.015290861018002033
  ],
  "text": "### Summary\nSuccessfully fixed Blossom video upload 404 playback issue. Two-part fix:\n\n1. **Client-side fix** (this branch `fix/blossom-streaming-upload`):\n   - Changed to use server's returned `sha256` hash as authoritative source for `videoId`\n   - Previously used client-computed hash, which could differ for large files going through Cloud Run proxy\n   - Added hash mismatch detection logging\n   - Changed default server from `blossom.divine.video` to `media.divine.video`\n   - Updated test to expect server's hash (was expecting client hash)\n\n2. **Server-side fixes** (deployed by separate agent):\n   - Fixed DNS for media.divine.video\n   - Enabled HTTP/2 on Cloud Run for 50GB uploads\n   - Updated Fastly to allow 50GB uploads\n   - Fixed Range Request signing for video playback\n\n### Key Insight\nFiles >500KB are proxied to Cloud Run which computes its OWN SHA256 from the received bytes. The server returns URL based on server's hash. Client was storing client's pre-computed hash as `videoId`, causing URL mismatch â†’ 404 on playback.\n\n### Verification\n- All 17 blossom_upload_service tests pass\n- Server returns HTTP 200 for test video hash\n- Range requests working for video playback",
  "sections": [
    "Project Notes",
    "Blossom Streaming Upload Fix - Complete (Dec 9, 2025)"
  ],
  "timestamp": 1765252704920,
  "path": "/Users/rabble/code/andotherstuff/openvine/mobile/.private-journal/2025-12-09/16-58-24-920687.md"
}