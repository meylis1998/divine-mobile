---
title: "2:48:53 PM - December 9, 2025"
date: 2025-12-09T01:48:53.915Z
timestamp: 1765244933915
---

## Project Notes

**Blossom Streaming Upload Fix - Dec 9, 2024**

Successfully completed the streaming upload implementation for Blossom service. Key changes:

1. **HashUtil.sha256File()** - New streaming hash method using AccumulatorSink and startChunkedConversion. Avoids loading entire file into memory.

2. **BlossmUploadService** - Changed from `file.readAsBytes()` to `file.openRead()` for streaming uploads. Critical for iOS where large files (40MB+) were causing memory pressure and "Network error: null" failures.

3. **New Blossom Server** - `separately-robust-roughy.edgecompute.app` is confirmed working. Returns 401 with dummy auth (expected), meaning endpoint is live and validating auth.

4. **Integration tests** - Created `test/integration/blossom_new_server_test.dart` for testing against the new server. All streaming hash verification passes.

Branch: `fix/blossom-streaming-upload`
Commit: `b29de5eb fix: use streaming for Blossom uploads to prevent iOS memory issues`
