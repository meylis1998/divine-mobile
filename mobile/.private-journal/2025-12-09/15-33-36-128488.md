---
title: "3:33:36 PM - December 9, 2025"
date: 2025-12-09T02:33:36.128Z
timestamp: 1765247616128
---

## Project Notes

## Blossom Upload Investigation - Dec 9, 2025

### Server URL Change
Updated default Blossom server from `blossom.divine.video` to `media.divine.video` across:
- `BlossomUploadService.defaultBlossomServer` constant
- All hardcoded fallbacks (video upload, image upload, bug report upload)
- `UploadManager` fallback (now uses the constant)
- Integration test file

### Root Cause Analysis - 10 Minute Uploads

**What the streaming fix solves:**
- iOS memory pressure from loading entire files into memory before upload
- Uses `videoFile.openRead()` instead of `readAsBytes()` for streaming

**What it does NOT solve:**
- Upload speed on slow networks (40MB+ videos on cellular)
- Server-side processing time (transcoding, thumbnails)
- Retry cycles with exponential backoff (up to 5 retries)

**Configuration findings:**
- `networkTimeout = Duration(minutes: 10)` - this is a ceiling, not expected duration
- `maxRetries = 5` with exponential backoff
- No explicit Dio connectTimeout/sendTimeout configured

**Key insight:** The 10-minute timeout is a MAXIMUM. Actual slowness likely comes from:
1. Network conditions (cellular vs wifi)
2. Server-side processing
3. Retry attempts after failures

The streaming upload fix helps with reliability (prevents OOM crashes) but won't speed up network transfer.
