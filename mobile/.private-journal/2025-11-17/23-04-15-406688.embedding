{
  "embedding": [
    -0.046326033771038055,
    -0.029776832088828087,
    0.049877140671014786,
    -0.012202677316963673,
    0.02676251158118248,
    -0.034127406775951385,
    0.024362679570913315,
    0.024288563057780266,
    -0.041739679872989655,
    0.026367953047156334,
    0.03267323598265648,
    -0.017578087747097015,
    0.01635916531085968,
    0.013764707371592522,
    -0.010006260126829147,
    0.0008672755211591721,
    -0.01770622655749321,
    -0.014077113941311836,
    -0.043228086084127426,
    -0.0014702307526022196,
    -0.07897438108921051,
    -0.027436666190624237,
    0.08665309101343155,
    -0.003812563605606556,
    0.008716568350791931,
    -0.05661401152610779,
    -0.01702949032187462,
    -0.010693817399442196,
    -0.03672928735613823,
    -0.00355847692117095,
    0.048388514667749405,
    0.10962684452533722,
    -0.12635955214500427,
    -0.08324449509382248,
    0.011188563890755177,
    0.0352015495300293,
    -0.011513518169522285,
    -0.02073102630674839,
    -0.08481235802173615,
    -0.01966993324458599,
    0.02787678875029087,
    0.0035997049417346716,
    -0.06167757138609886,
    0.022739287465810776,
    -0.011276274919509888,
    -0.06199370697140694,
    -0.027141256257891655,
    -0.013790811412036419,
    -0.018453504890203476,
    0.030904831364750862,
    -0.08634573966264725,
    0.021115610376000404,
    -0.037266332656145096,
    0.00782836228609085,
    0.047187790274620056,
    0.07272626459598541,
    0.0662546157836914,
    0.15742652118206024,
    0.0620272122323513,
    0.015446099452674389,
    0.05065517872571945,
    -0.01588108018040657,
    0.003271312452852726,
    -0.05064283683896065,
    0.0013367863139137626,
    0.0430896021425724,
    -0.01191090140491724,
    -0.05494332313537598,
    0.10206350684165955,
    -0.0015633775619789958,
    -0.001953075872734189,
    0.049422916024923325,
    -0.0014796860050410032,
    -0.10342280566692352,
    -0.0051103332079946995,
    -0.09573929756879807,
    -0.03262211009860039,
    0.039031874388456345,
    -0.037580180913209915,
    -0.05653990060091019,
    0.034596409648656845,
    -0.026436801999807358,
    0.018199380487203598,
    -0.01565724052488804,
    0.10204432159662247,
    -0.04948560893535614,
    0.0005974975065328181,
    -0.07201807200908661,
    0.02185072749853134,
    0.08271697908639908,
    0.012572496198117733,
    -0.007984502241015434,
    0.01832829788327217,
    -0.05310952290892601,
    0.0010370620293542743,
    -0.009456264786422253,
    -0.029273569583892822,
    0.02877250500023365,
    -0.015360547229647636,
    0.0346323698759079,
    -0.004987929482012987,
    -0.03911728039383888,
    -0.010790803469717503,
    0.16842128336429596,
    0.07144153863191605,
    -0.02696278505027294,
    0.03281074017286301,
    -0.012391973286867142,
    -0.044132526963949203,
    0.035948678851127625,
    -0.004143014084547758,
    -0.0251793023198843,
    0.020478906109929085,
    0.04821772128343582,
    0.0016717088874429464,
    0.058967266231775284,
    -0.07986617088317871,
    0.04900585114955902,
    -0.011647762730717659,
    0.0680626705288887,
    0.09870085120201111,
    -0.00943523459136486,
    0.07523731887340546,
    -0.07345649600028992,
    -0.06301970779895782,
    0.015267634764313698,
    0.05523477867245674,
    5.363648112345646e-33,
    0.04992156848311424,
    -0.04507884010672569,
    -0.061894673854112625,
    0.06807951629161835,
    0.03574933484196663,
    0.025020970031619072,
    -0.01478242501616478,
    0.04504862055182457,
    0.02979998290538788,
    -0.06568892300128937,
    0.018960794433951378,
    0.0459953248500824,
    -0.03664427623152733,
    0.022431395947933197,
    0.005928322207182646,
    -0.07328259199857712,
    -0.00915982574224472,
    0.06852740049362183,
    -0.0347369983792305,
    0.033625829964876175,
    0.06833090633153915,
    -0.01382071990519762,
    -0.08163180947303772,
    -0.10458406060934067,
    0.0026818744372576475,
    0.033381812274456024,
    0.04494937136769295,
    0.059682443737983704,
    -0.03032729960978031,
    0.018268294632434845,
    -0.023080898448824883,
    -0.026832280680537224,
    0.051504019647836685,
    0.027150649577379227,
    -0.05437816306948662,
    -0.06490941345691681,
    -0.023380901664495468,
    -0.0642906203866005,
    -0.07737287878990173,
    -0.08496607095003128,
    -0.020146166905760765,
    -0.0336487777531147,
    -0.040551964193582535,
    -0.020412230864167213,
    -0.09052836894989014,
    -0.11847036331892014,
    0.0000708605075487867,
    0.015238096937537193,
    0.047030605375766754,
    -0.00045440145186148584,
    -0.021496521309018135,
    -0.010485991835594177,
    -0.023656271398067474,
    -0.06929249316453934,
    -0.09513845294713974,
    -0.013429717160761356,
    -0.02737778052687645,
    -0.05064148083329201,
    -0.01567224971950054,
    -0.019293006509542465,
    0.00249993777833879,
    -0.0027484544552862644,
    -0.029703373089432716,
    0.02209773287177086,
    0.001455029472708702,
    0.08598989248275757,
    0.027577780187129974,
    -0.008168276399374008,
    0.049128368496894836,
    -0.05728476122021675,
    -0.1026654839515686,
    0.03581548109650612,
    0.06310851126909256,
    0.00180732156150043,
    -0.01729266718029976,
    -0.03448807820677757,
    -0.04403116554021835,
    0.025868883356451988,
    -0.1939024031162262,
    0.01183016411960125,
    0.048458222299814224,
    0.0022162299137562513,
    -0.058299366384744644,
    0.07857923954725266,
    0.013878525234758854,
    -0.03369540721178055,
    0.05877167731523514,
    -0.050939738750457764,
    -0.045569248497486115,
    0.12736372649669647,
    0.02182958461344242,
    -0.003126753494143486,
    0.05553433671593666,
    0.0026018705684691668,
    -0.041221585124731064,
    -6.685989258234484e-33,
    0.0132356658577919,
    -0.03327047452330589,
    -0.027318593114614487,
    -0.05539436638355255,
    0.024820588529109955,
    -0.07167208939790726,
    0.06232638657093048,
    0.1188519150018692,
    0.03997642546892166,
    -0.11434400081634521,
    -0.07202610373497009,
    0.014226602390408516,
    0.0016185640124604106,
    -0.014982511289417744,
    -0.04013463482260704,
    0.07950229197740555,
    0.00354025955311954,
    -0.07570180296897888,
    -0.004054215736687183,
    -0.042118970304727554,
    0.026432376354932785,
    0.00429145572707057,
    -0.018686484545469284,
    0.0200466550886631,
    -0.034139569848775864,
    0.048751793801784515,
    0.06948857754468918,
    0.027306217700242996,
    -0.00584021769464016,
    -0.048458848148584366,
    0.12340133637189865,
    -0.022550057619810104,
    -0.09778792411088943,
    0.04957631602883339,
    0.08592280745506287,
    0.03849289193749428,
    -0.00026260173763148487,
    -0.014743595384061337,
    -0.14038267731666565,
    0.0012848239857703447,
    0.18151746690273285,
    0.034325603395700455,
    -0.0123826889321208,
    0.017440704628825188,
    0.09301392734050751,
    -0.0014334556180983782,
    0.07040244340896606,
    -0.02811810001730919,
    -0.09840212017297745,
    -0.020523423328995705,
    0.09709081053733826,
    0.02177375741302967,
    0.0035953400656580925,
    0.0060628135688602924,
    0.03559951111674309,
    0.047890882939100266,
    0.11292074620723724,
    -0.021158862859010696,
    0.036610785871744156,
    -0.05029739812016487,
    0.10413826256990433,
    -0.048816464841365814,
    -0.025560690090060234,
    0.017718996852636337,
    0.00042757074697874486,
    0.04283729940652847,
    0.008270468562841415,
    0.0445718951523304,
    0.04907890036702156,
    0.003875658381730318,
    -0.0031831690575927496,
    -0.037116993218660355,
    0.04025338590145111,
    -0.011700448580086231,
    0.07052600383758545,
    0.02325023151934147,
    -0.0451742559671402,
    -0.05577481910586357,
    0.01720377989113331,
    0.005615983624011278,
    -0.06580747663974762,
    0.0057876231148839,
    0.002354168798774481,
    -0.1059250608086586,
    -0.011617599986493587,
    0.011054545640945435,
    -0.04219447076320648,
    0.09517206251621246,
    0.07333838939666748,
    -0.020322684198617935,
    -0.01776808314025402,
    -0.07765805721282959,
    -0.11315698176622391,
    0.047416526824235916,
    0.004926575813442469,
    -5.341002662362371e-8,
    -0.05331523343920708,
    0.0800524652004242,
    -0.05316387116909027,
    0.06340283155441284,
    0.036230526864528656,
    -0.06996894627809525,
    0.0807393491268158,
    -0.019341014325618744,
    -0.01174223329871893,
    -0.1017344743013382,
    -0.03911810740828514,
    0.03593501076102257,
    -0.032446302473545074,
    0.017693782225251198,
    0.014255582354962826,
    -0.031189048662781715,
    -0.00029696684214286506,
    -0.010306322015821934,
    -0.06459913402795792,
    -0.028255483135581017,
    -0.05559079721570015,
    0.003972532693296671,
    0.0016190145397558808,
    0.016767719760537148,
    -0.06982297450304031,
    0.029177386313676834,
    0.036150265485048294,
    0.01110012922435999,
    0.012723698280751705,
    -0.0073309713043272495,
    -0.033036522567272186,
    -0.007522682659327984,
    0.0011283165076747537,
    0.0019124128157272935,
    -0.08863092213869095,
    0.03497960790991783,
    -0.012672941200435162,
    0.0027329735457897186,
    0.046867989003658295,
    0.0760653167963028,
    0.03066377528011799,
    -0.044139448553323746,
    0.033387549221515656,
    0.032149165868759155,
    -0.0035000613424926996,
    -0.027968497946858406,
    0.026769988238811493,
    0.011681615374982357,
    0.060542672872543335,
    -0.06130260229110718,
    -0.08181674033403397,
    0.012284062802791595,
    -0.022484827786684036,
    -0.0049203066155314445,
    0.01987404003739357,
    -0.020519506186246872,
    0.004244551993906498,
    -0.03974216803908348,
    0.0011369711719453335,
    -0.046003662049770355,
    0.028073159977793694,
    -0.007397416979074478,
    0.04224703088402748,
    0.017195945605635643
  ],
  "text": "**Profile Refresh Issue - Root Cause and Fix**\n\n**Problem**: After editing profile, the ProfileScreenRouter doesn't refresh to show updated information.\n\n**Root Cause**: State management timing issue in Riverpod provider lifecycle:\n1. ProfileSetupScreen updates cache and invalidates provider BEFORE navigating back\n2. When Navigator.pop() returns to ProfileScreenRouter, it reveals the existing widget without triggering a rebuild\n3. The invalidated provider doesn't rebuild because the watching widget (ProfileScreenRouter) isn't actively rebuilding\n\n**Solution**: Invalidate the profile provider AFTER returning from the edit screen:\n- In `_editProfile()`: After `await context.push('/edit-profile')` returns, invalidate `fetchUserProfileProvider`\n- In `_setupProfile()`: After `await context.push('/setup-profile')` returns, invalidate `fetchUserProfileProvider`\n\n**Key Insight**: When using `context.push()`, it awaits the navigation return. At that point, the widget IS active and listening, so invalidating the provider triggers an immediate rebuild with fresh data from the updated cache.\n\n**Files Modified**:\n- `lib/screens/profile_screen_router.dart:1323-1336` - Added refresh after _setupProfile\n- `lib/screens/profile_screen_router.dart:1369-1384` - Added refresh after _editProfile\n\n**Pattern to Remember**: For profile/data updates that happen in pushed screens:\n1. Update data in the pushed screen\n2. Invalidate provider from pushed screen (keeps cache in sync)\n3. ALSO invalidate provider after returning to the original screen (triggers UI rebuild)",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1763449455406,
  "path": "/Users/rabble/code/andotherstuff/openvine/mobile/.private-journal/2025-11-17/23-04-15-406688.md"
}