---
title: "10:32:24 PM - December 5, 2025"
date: 2025-12-05T09:32:24.001Z
timestamp: 1764927144001
---

## Project Notes

## PR #310: feat/new-cache-strategy

Testing the cache strategy branch for diVine/OpenVine.

### What's in the PR:
- New `db_client` package at `mobile/packages/db_client/`
- Uses Drift (SQLite ORM) for local caching
- Three DAOs:
  - `NostrEventsDao` - Caching Nostr events with filtering by kind, author, hashtag, timestamp
  - `UserProfilesDao` - Caching user profiles with upsert from domain models
  - `VideoMetricsDao` - Extracting engagement metrics (loops, likes, comments) from video events

### Test Results:
- db_client package: 115 tests all passing
- lib/ code: 23 warnings/infos only (no errors)
- Test files: Need rebase on main (out of sync with recent changes)

### Build Status:
- Building macOS app - currently compiling sqlite3 native code
- This is expected to take longer on first build due to Drift's native dependencies

### Issues Found:
- Branch needs to be rebased on main to fix test file errors
- Test files reference old constructors that have been updated on main
