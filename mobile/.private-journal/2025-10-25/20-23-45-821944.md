---
title: "8:23:45 PM - October 25, 2025"
date: 2025-10-25T07:23:45.821Z
timestamp: 1761377025821
---

## Project Notes


**Test Suite "Bad State" Error Analysis - OpenVine Mobile**

Total failures: 613
Bad state errors: 98

**Already Fixed (in commit 53b69e5):**
- VineRecordingNotifier dispose errors in square_video_recording_test.dart
- Mockito verification errors in social_service_test.dart (reset() in tearDown)

**Remaining Error Categories:**
1. NostrService not initialized (36) - Most common, in embedded_relay tests
2. VineRecordingNotifier after dispose (17) - Some remain in other files
3. Cannot add events after close (12) - Stream/relay lifecycle issues
4. Mockito verification errors (10) - Other test files still have this
5. No element (8) - Iterator/stream access on empty collections
6. Stream already listened to (5) - Need broadcast streams
7. No ProviderScope found (3) - Riverpod setup issues
8. Future already completed (2) - Completer misuse
9. No active session (2) - Camera/recording session lifecycle

**Test Files with Most Errors:**
- test/integration/embedded_relay_subscription_test.dart (multiple categories)
- test/integration/square_video_recording_test.dart (fixed)
- test/services/social_service_test.dart (fixed)

**Next Steps:**
Focus on NostrService initialization errors as they're the most common and likely indicate a systemic initialization issue in test setup.

